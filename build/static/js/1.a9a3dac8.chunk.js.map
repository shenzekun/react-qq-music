{"version":3,"sources":["../static/js/1.a9a3dac8.chunk.js","pages/rank/rank.jsx","pages/rank/rank.scss"],"names":["webpackJsonp","165","module","__webpack_exports__","__webpack_require__","_asyncToGenerator","fn","gen","apply","this","arguments","Promise","resolve","reject","step","key","arg","info","value","error","done","then","err","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default","n","__WEBPACK_IMPORTED_MODULE_1_react__","__WEBPACK_IMPORTED_MODULE_1_react___default","__WEBPACK_IMPORTED_MODULE_2__rank_scss__","__WEBPACK_IMPORTED_MODULE_3_react_lazyload__","__WEBPACK_IMPORTED_MODULE_3_react_lazyload___default","__WEBPACK_IMPORTED_MODULE_4__components_header_header__","__WEBPACK_IMPORTED_MODULE_5__components_loading_loading__","__WEBPACK_IMPORTED_MODULE_6__config_api__","__WEBPACK_IMPORTED_MODULE_7_immutable__","__WEBPACK_IMPORTED_MODULE_8__utils_utils__","_createClass","defineProperties","target","props","i","length","descriptor","protoProps","staticProps","Rank","_Component","_this","getPrototypeOf","state","rankList","isLoading","getRankList","_ref","a","mark","_callee","result","wrap","_context","prev","next","sent","setState","topList","stop","callback","nextProps","nextState","createElement","className","map","item","id","href","height","placeholder","src","alt","picUrl","listenCount","topTitle","songList","song","index","songname","singername","168","exports","p"],"mappings":"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","file":"static/js/1.a9a3dac8.chunk.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 165:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__rank_scss__ = __webpack_require__(168);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__rank_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__rank_scss__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_lazyload__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_lazyload___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_react_lazyload__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_header_header__ = __webpack_require__(50);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_loading_loading__ = __webpack_require__(52);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__config_api__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_immutable__ = __webpack_require__(23);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_immutable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_immutable__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__utils_utils__ = __webpack_require__(49);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{return Promise.resolve(value).then(function(value){step(\"next\",value);},function(err){step(\"throw\",err);});}}return step(\"next\");});};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Rank=function(_Component){_inherits(Rank,_Component);function Rank(props){_classCallCheck(this,Rank);var _this=_possibleConstructorReturn(this,(Rank.__proto__||Object.getPrototypeOf(Rank)).call(this,props));_this.state={rankList:[],isLoading:false};return _this;}_createClass(Rank,[{key:'getRankList',value:function(){var _ref=_asyncToGenerator(/*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee(){var result;return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return __WEBPACK_IMPORTED_MODULE_6__config_api__[\"d\" /* default */].rankList();case 2:result=_context.sent;this.setState({rankList:result.topList,isLoading:true});case 4:case'end':return _context.stop();}}},_callee,this);}));function getRankList(){return _ref.apply(this,arguments);}return getRankList;}()},{key:'componentDidMount',value:function componentDidMount(){this.getRankList();}},{key:'componentWillUnmount',value:function componentWillUnmount(){this.setState=function(state,callback){return;};}},{key:'shouldComponentUpdate',value:function shouldComponentUpdate(nextProps,nextState){return!Object(__WEBPACK_IMPORTED_MODULE_7_immutable__[\"is\"])(Object(__WEBPACK_IMPORTED_MODULE_7_immutable__[\"fromJS\"])(this.props),Object(__WEBPACK_IMPORTED_MODULE_7_immutable__[\"fromJS\"])(nextProps))||!Object(__WEBPACK_IMPORTED_MODULE_7_immutable__[\"is\"])(Object(__WEBPACK_IMPORTED_MODULE_7_immutable__[\"fromJS\"])(this.state),Object(__WEBPACK_IMPORTED_MODULE_7_immutable__[\"fromJS\"])(nextState));}},{key:'render',value:function render(){return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('div',null,__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__components_header_header__[\"a\" /* default */],null),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('div',{className:'tab-contents'},this.state.isLoading?__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('div',{className:'rank-view tab-content'},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('ul',{className:'toplist'},this.state.rankList.map(function(item){return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('li',{className:'top-item',key:item.id},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('div',{className:'top-item-media'},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('a',{href:'https://y.qq.com/w/toplist.html?ADTAG=myqq&from=myqq&channel=10007100&id='+item.id+'&type=top'},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_react_lazyload___default.a,{height:100,placeholder:__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('img',{src:__webpack_require__(25),alt:'\\u5360\\u4F4D\\u7B26'})},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('img',{src:item.picUrl,alt:'\\u56FE\\u7247'})),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('span',{className:'listen_count'},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('i',{className:'icon icon-listen'}),Object(__WEBPACK_IMPORTED_MODULE_8__utils_utils__[\"a\" /* dealNum */])(item.listenCount)))),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('a',{href:'https://y.qq.com/w/toplist.html?ADTAG=myqq&from=myqq&channel=10007100&id='+item.id+'&type=top'},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('div',{className:'top-item-info'},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('h3',{className:'top-item-title ellipsis'},item.topTitle),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('ul',{className:'top-item-list'},item.songList.map(function(song,index){return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('li',{className:'top-item-song',key:index},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('i',{className:'song-index'},index+1),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('span',{className:'song-name'},song.songname),'- ',song.singername);})))));}))):__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5__components_loading_loading__[\"a\" /* default */],null)));}}]);return Rank;}(__WEBPACK_IMPORTED_MODULE_1_react__[\"Component\"]);/* harmony default export */ __webpack_exports__[\"default\"] = (Rank);\n\n/***/ }),\n\n/***/ 168:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"static/media/rank.ba7018d0.scss\";\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/1.a9a3dac8.chunk.js","import React, { Component } from 'react';\nimport './rank.scss';\nimport LazyLoad from 'react-lazyload';\nimport Header from '../../components/header/header';\nimport Loading from '../../components/loading/loading';\nimport API from '../../config/api';\nimport { is, fromJS } from 'immutable';\nimport { dealNum } from '../../utils/utils';\n\nclass Rank extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            rankList: [],\n            isLoading: false\n        };\n    }\n    async getRankList() {\n        let result = await API.rankList();\n        this.setState({ rankList: result.topList, isLoading: true });\n    }\n    componentDidMount() {\n        this.getRankList();\n    }\n    componentWillUnmount() {\n        this.setState = (state, callback) => {\n            return;\n        };\n    }\n    shouldComponentUpdate(nextProps, nextState) {\n        return (\n            !is(fromJS(this.props), fromJS(nextProps)) || !is(fromJS(this.state), fromJS(nextState))\n        );\n    }\n    render() {\n        return (\n            <div>\n                <Header />\n                <div className=\"tab-contents\">\n                    {this.state.isLoading ? (\n                        <div className=\"rank-view tab-content\">\n                            <ul className=\"toplist\">\n                                {this.state.rankList.map(item => {\n                                    return (\n                                        <li className=\"top-item\" key={item.id}>\n                                            <div className=\"top-item-media\">\n                                                <a\n                                                    href={\n                                                        'https://y.qq.com/w/toplist.html?ADTAG=myqq&from=myqq&channel=10007100&id=' +\n                                                        item.id +\n                                                        '&type=top'\n                                                    }\n                                                >\n                                                    <LazyLoad\n                                                        height={100}\n                                                        placeholder={\n                                                            <img\n                                                                src={require('../../assets/default_pic.jpg')}\n                                                                alt=\"占位符\"\n                                                            />\n                                                        }\n                                                    >\n                                                        <img src={item.picUrl} alt=\"图片\" />\n                                                    </LazyLoad>\n                                                    <span className=\"listen_count\">\n                                                        <i className=\"icon icon-listen\" />\n                                                        {dealNum(item.listenCount)}\n                                                    </span>\n                                                </a>\n                                            </div>\n                                            <a\n                                                href={\n                                                    'https://y.qq.com/w/toplist.html?ADTAG=myqq&from=myqq&channel=10007100&id=' +\n                                                    item.id +\n                                                    '&type=top'\n                                                }\n                                            >\n                                                <div className=\"top-item-info\">\n                                                    <h3 className=\"top-item-title ellipsis\">\n                                                        {item.topTitle}\n                                                    </h3>\n                                                    <ul className=\"top-item-list\">\n                                                        {item.songList.map((song, index) => {\n                                                            return (\n                                                                <li\n                                                                    className=\"top-item-song\"\n                                                                    key={index}\n                                                                >\n                                                                    <i className=\"song-index\">\n                                                                        {index + 1}\n                                                                    </i>\n                                                                    <span className=\"song-name\">\n                                                                        {song.songname}\n                                                                    </span>- {song.singername}\n                                                                </li>\n                                                            );\n                                                        })}\n                                                    </ul>\n                                                </div>\n                                            </a>\n                                        </li>\n                                    );\n                                })}\n                            </ul>\n                        </div>\n                    ) : (\n                        <Loading />\n                    )}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Rank;\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/rank/rank.jsx","module.exports = __webpack_public_path__ + \"static/media/rank.ba7018d0.scss\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/rank/rank.scss\n// module id = 168\n// module chunks = 1"],"sourceRoot":""}